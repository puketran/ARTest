<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="content-language" content="en-EN" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />

    <title>Hat VTO Demo</title>
    
    <!-- INCLUDE WebAR.rocks.face MAIN SCRIPT -->
    <script src="./dist/WebARRocksFace.js"></script>
    
    <!-- INCLUDE MAIN HELPER -->
    <script src="./helpers/WebARRocksFaceThreeHelper.js"></script>

    <!-- THREE.JS, FOR THE RENDERING -->
    <!-- WARNING: for production you should replace three.js by three.min.js -->
    <script src="./libs/three/v136/build/three.js"></script>

    <!-- THREE.JS GLTF and DRACO loaders -->
    <script src="./libs/three/v136/examples/js/loaders/GLTFLoader.js"></script>
    <script src="./libs/three/v136/examples/js/loaders/DRACOLoader.js"></script>

    <!-- THREE.JS RGBE loader - you can remove it if you don't use envmap: -->
    <script src="./libs/three/v136/examples/js/loaders/RGBELoader.js"></script>

    <!-- THREE.JS postprocessing - you can remove it if you don't use bloom or temporal anti aliasing : -->
    <script src="./libs/three/v136/examples/js/postprocessing/EffectComposer.js"></script>
    <script src="./libs/three/v136/examples/js/postprocessing/ShaderPass.js"></script>
    <script src="./libs/three/v136/examples/js/postprocessing/RenderPass.js"></script>
    <script src="./libs/three/v136/examples/js/shaders/CopyShader.js"></script>

    <!-- Bloom postprocessing: -->
    <script src="./libs/three/v136/examples/js/postprocessing/UnrealBloomPassTweaked.js"></script>
    <script src="./libs/three/v136/examples/js/shaders/LuminosityHighPassShader.js"></script>
    
    <!-- TAA specifics: -->
    <script src="./libs/three/v136/examples/js/postprocessing/SSAARenderPass.js"></script>
    <script src="./libs/three/v136/examples/js/postprocessing/TAARenderPass.js"></script>

    <!-- INCLUDE WebAR.rocks.mirror main helper -->
    <script src="./helpers/WebARRocksMirror.js"></script>
    
    <!-- INCLUDE LANDMARKS STABILIZER -->
    <script src="./helpers/landmarksStabilizers/OneEuroLMStabilizer.js"></script>
    
    <!-- INCLUDE MAIN DEMO SCRIPT: -->
    <!-- <script src="./main.js"></script> -->
    <script>
        let fileName = 'main022.js';
        const script = document.createElement("script");
        script.src = fileName;
        document.head.appendChild(script);
      
    </script>

    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <video id="video" autoplay muted loop playsinline>
      <source src="video.mp4" type="video/mp4">
    </video>
    <canvas id='WebARRocksFaceCanvas'></canvas>
    <canvas id='threeCanvas'></canvas>
    <div id='controls'>
      <div onclick='showhideVideo()'>Show/Hide Video</div>
      <div onclick='WebARRocksMirror.pause(true)'>Pause</div>
      <div onclick='WebARRocksMirror.resume(true)'>Resume</div>
      <div onclick="resizeCanvas()">Resize</div>
      <div onclick='capture_image()'>Capture</div>
    </div>
    <div id='loading' onclick='startDemo()'>
      <div>
        CLICK TO START
      </div>
    </div>
    <script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
    <script>
    // VConsole will be exported to `window.VConsole` by default.
    var vConsole = new window.VConsole();
    </script>
  </body>
</html>

